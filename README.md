# 植物大战僵尸 BP对战辅助工具

一个用于管理植物大战僵尸改版BP对战的辅助工具，支持完整的Ban/Pick流程、使用次数追踪、站位设置等功能。

## 功能特性

✅ **完整的BP流程**：4个阶段的ban/pick顺序，符合官方规则
✅ **使用次数追踪**：每个植物每个选手最多使用2次
✅ **植物限制检查**：不能选择对方已选的植物
✅ **永久禁用系统**：每局随机禁用5个植物
✅ **站位设置**：支持1-5号位和2路/4路选择
✅ **自动保存**：使用localStorage保存进度
✅ **比分管理**：率先夺得5分的选手胜利

## 使用方法

### 1. 启动应用

```bash
# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产版本
npm run preview
```

开发服务器启动后，在浏览器中访问 `http://localhost:3000`

**关闭开发服务器**：在运行 `npm run dev` 的终端窗口按 `Ctrl + C` 即可停止。

### 2. 游戏流程

#### 初始化游戏
1. 输入两名选手的ID
2. 为两名选手分别选择开局道路（一名选手2路，另一名选手4路）
3. 系统随机禁用5个植物（永久禁用，本局不可使用）
4. 点击"开始游戏"

#### BP阶段
游戏分为4个阶段：

1. **阶段一：禁用**（二路→四路→二路→四路）
   - 共4个ban位置

2. **阶段二：选择**（二路→四路→四路→二路→二路→四路）
   - 共6个pick位置

3. **阶段三：禁用**（四路→二路→四路→二路→四路→二路）
   - 共6个ban位置

4. **阶段四：选择**（四路→二路→二路→四路）
   - 共4个pick位置

#### 站位设置

BP流程结束后，双方需要：

1. 在已选择的道路上设置1-5号位的植物摆放
2. 确认站位无误后点击"完成本小分"

#### 小分结算

1. 选择获胜选手
2. 败者选择下一轮的道路（2路或4路，败者选路权）
3. 自动进入下一小分

### 3. 游戏规则

- 每个植物每名选手全局最多使用2次
- 选手不能选择对方已选的植物
- 永久禁用的植物本局不可用
- 率先夺得5分的选手胜利
- 4:4平局时进入巅峰对决（暂未实现）

## 项目结构

```
bp-plant-war/
├── src/
│   ├── components/       # Vue组件
│   │   ├── GameSetup.vue      # 游戏初始化
│   │   ├── PlayerInfo.vue     # 选手信息
│   │   ├── BanArea.vue        # Ban显示区域
│   │   ├── PickArea.vue       # Pick显示区域
│   │   ├── PlantSelector.vue   # 植物选择面板
│   │   ├── PositionSetup.vue   # 站位设置
│   │   ├── RoundResult.vue     # 小分结算
│   │   └── StageIndicator.vue  # 阶段指示器
│   ├── data/
│   │   └── plants.js          # 植物数据（占位符）
│   ├── store/
│   │   └── gameStore.js       # Pinia状态管理
│   └── utils/
│       ├── bpRules.js         # BP顺序规则
│       └── validators.js      # 验证逻辑
├── index.html
├── package.json
├── vite.config.js
└── tailwind.config.js
```

## 自定义植物数据

当前使用占位符图片，你可以修改 `src/data/plants.js` 文件来自定义植物数据：

```javascript
{
  id: 'peashooter',
  name: '豌豆射手',
  image: '/path/to/your/image.png',  // 替换为实际图片路径
  description: '向前方发射豌豆',
  type: 'shooter'
}
```

## 技术栈

- **Vue 3** - 渐进式JavaScript框架
- **Tailwind CSS** - 实用优先的CSS框架
- **Pinia** - Vue状态管理库
- **Vite** - 新一代前端构建工具

## 浏览器兼容性

推荐使用最新版本的现代浏览器：
- Chrome
- Firefox
- Edge
- Safari

## 数据持久化

游戏进度自动保存到浏览器的localStorage中，刷新页面后会自动恢复。如需重置游戏，点击界面上的"重置游戏"按钮。

## 注意事项

- 巅峰对决模式（4:4平局）暂未实现，遇到此情况请手动处理
- 南瓜套规则验证需要根据实际规则补充完善
- 副C/大C的识别规则需要在validators.js中补充定义

## 开发者信息

如有问题或建议，请联系开发者。
